#!/usr/bin/python3
import sys
import coloredlogs
import logging
import os
from PyQt5.QtWidgets import QApplication
import gonhang.mainwindow
import time


if __name__ == '__main__':
    os.environ['QT_LOGGING_RULES'] = "qt5ct.debug=false"
    logger = logging.getLogger(__name__)
    coloredlogs.install()
    logger.info('Starting...')
    app = QApplication(sys.argv)
    window = gonhang.mainwindow.MainWindow()
    window.show()
    time.sleep(1/50)
    logger.info(f'Current title: {window.windowTitle()}')
    logger.info(f'Current Window ID is: [{window.getWindowCurrentId(window.windowTitle())}]')
    logger.info(f'Updating Window with id: [{window.getWindowCurrentId(window.windowTitle())}] in every workspaces...')
    window.setWindowInEveryWorkspaces()
    logger.info('Starting all threads...')
    window.startAllThreads()
    app.exec_()
